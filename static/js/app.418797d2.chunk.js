(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{152:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(120),c=r.n(n),o=r(27),a=r(4),i=r(66),s=r(215),u=r(216),d=r(217),j=r(219),l=r(218),b=r(220),O=r(214),f=r(85),h=r(7),p=r.n(h),x=r(121);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m=r.n(x)()((function(e){return{cart:{},addProduct:function(t){var r=t.id,n=t.name;e((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.cart);return t[r]||(t[r]={id:r,name:n,quantity:0}),t[r].quantity+=1,{cart:t}}))},removeProduct:function(){},deleteProduct:function(){}}})),g=r(13);function v(e){var t=e.product,r=t||null,n=r.id,c=r.name,i=r.price,s=r.image,u=m((function(e){var t;return{cart:e.cart,addProduct:e.addProduct,quantity:(null==(t=e.cart[n])?void 0:t.quantity)||0}})),d=(u.cart,u.addProduct),j=u.quantity;return Object(g.jsx)(a.a,{style:{padding:10},children:Object(g.jsxs)(f.a,{onPress:function(){d({id:n,name:c})},style:{borderColor:"red",borderWidth:2,margin:3,justifyContent:"center",alignItems:"center",padding:20},children:[Object(g.jsx)(o.a,{children:c}),Object(g.jsx)(o.a,{children:s}),Object(g.jsx)(o.a,{children:i}),Object(g.jsx)(o.a,{children:j})]})})}var P,C=function(e){var t=m((function(e){return{cart:e.cart,addProduct:e.addProduct}})),r=(t.quantity,t.addProduct),n=t.cart,c=Object.keys(n).map((function(e){return n[e]}));return console.log("array",c),Object(g.jsxs)(a.a,{children:[c.map((function(e){return Object(g.jsxs)(a.a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(g.jsx)(o.a,{children:e.name}),Object(g.jsx)(i.a,{onPress:function(){console.log("todo: decrease product quantity")},title:"-"}),Object(g.jsx)(o.a,{children:e.quantity}),Object(g.jsx)(i.a,{onPress:function(){r({id:e.id,name:e.name})},title:"+"})]},e.id)})),Object(g.jsx)(i.a,{title:"Go to Checkout",onPress:function(){return navigation.navigate("Checkout")}})]})},w=new d.a({uri:"https://charmed-squirrel-78.hasura.app/v1/graphql",cache:new j.a,headers:{"x-hasura-admin-secret":"adminsecret"}}),q=Object(l.a)(P||(P=c()(["\n  query GetStoreProducts {\n    product {\n      id\n      name\n      price\n      image\n    }\n  }\n"]))),k=Object(u.a)();function S(e){e.navigation;var t=Object(b.a)(q),r=t.loading,n=t.error,c=t.data;if(r)return Object(g.jsx)("p",{children:"Loading"});if(n)return Object(g.jsx)("p",{children:"Error"});var i=c?c.product:[];return console.log("products",i),Object(g.jsxs)(a.a,{style:{flex:1,justifyContent:"center",borderColor:"green",borderWidth:1},children:[Object(g.jsx)(o.a,{children:"Commuter Essentials Store"}),Object(g.jsxs)(a.a,{style:{flexDirection:"row"},children:[Object(g.jsx)(a.a,{style:{flex:3,alignItems:"center",justifyContent:"center",borderColor:"red",borderWidth:1},children:i.map((function(e){return Object(g.jsx)(v,{product:e},e.id)}))}),Object(g.jsx)(a.a,{style:{flex:1,alignItems:"center",justifyContent:"center",borderColor:"blue",borderWidth:1},children:Object(g.jsx)(C,{})})]})]})}function D(e){var t=e.navigation;return Object(g.jsxs)(a.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:[Object(g.jsx)(o.a,{children:"Checkout Screen"}),Object(g.jsx)(i.a,{title:"Go Back",onPress:function(){return t.navigate("Store")}})]})}function I(){return Object(g.jsx)(O.a,{client:w,children:Object(g.jsx)(s.a,{children:Object(g.jsxs)(k.Navigator,{initialRouteName:"Home",children:[Object(g.jsx)(k.Screen,{name:"Store",component:S}),Object(g.jsx)(k.Screen,{name:"Checkout",component:D})]})})})}},160:function(e,t,r){e.exports=r(199)}},[[160,1,2]]]);
//# sourceMappingURL=app.418797d2.chunk.js.map