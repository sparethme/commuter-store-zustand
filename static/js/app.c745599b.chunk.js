(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{155:function(e,t,r){"use strict";r.d(t,"a",(function(){return G}));var n=r(123),c=r.n(n),a=r(50),i=r(27),o=r(4),u=r(69),s=r(218),d=r(219),j=r(220),l=r(222),b=r(221),O=r(223),f=r(217),h=r(88),p=r(7),x=r.n(p),y=r(124);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=r.n(y)()((function(e){return{cart:{},addProduct:function(t){var r=t.id,n=t.name;e((function(e){var t=v({},e.cart);return t[r]||(t[r]={id:r,name:n,quantity:0}),t[r].quantity+=1,{cart:t}}))},removeProduct:function(t){var r=t.id;e((function(e){var t=v({},e.cart);if(!t[r])return{cart:t};var n=t[r].quantity-1;return n<=0?delete t[r]:t[r].quantity=n,{cart:t}}))},deleteProduct:function(){}}})),P=r(13);function C(e){var t=e.product,r=t||null,n=r.id,c=r.name,a=r.price,u=r.image,s=g((function(e){var t;return{cart:e.cart,addProduct:e.addProduct,quantity:(null==(t=e.cart[n])?void 0:t.quantity)||0}})),d=(s.cart,s.addProduct),j=s.quantity;return Object(P.jsx)(o.a,{style:{padding:10},children:Object(P.jsxs)(h.a,{onPress:function(){d({id:n,name:c})},style:{borderColor:"red",borderWidth:2,margin:3,justifyContent:"center",alignItems:"center",padding:20},children:[Object(P.jsx)(i.a,{children:c}),Object(P.jsx)(i.a,{children:u}),Object(P.jsx)(i.a,{children:a}),Object(P.jsx)(i.a,{children:j})]})})}var q=r(33);var w,k=function(e){var t=g((function(e){return{cart:e.cart,addProduct:e.addProduct,removeProduct:e.removeProduct}})),r=(t.quantity,t.addProduct),n=t.cart,c=t.removeProduct,a=Object.keys(n).map((function(e){return n[e]}));console.log("array",a);var s=Object(q.k)();return Object(P.jsxs)(o.a,{children:[a.map((function(e){return Object(P.jsxs)(o.a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(P.jsx)(i.a,{children:e.name}),Object(P.jsx)(u.a,{onPress:function(){c({id:e.id})},title:"-"}),Object(P.jsx)(i.a,{children:e.quantity}),Object(P.jsx)(u.a,{onPress:function(){r({id:e.id,name:e.name})},title:"+"})]},e.id)})),Object(P.jsx)(u.a,{title:"Go to Checkout",onPress:function(){return s.navigate("Checkout")}})]})},S=new j.a({uri:"https://charmed-squirrel-78.hasura.app/v1/graphql",cache:new l.a,headers:{"x-hasura-admin-secret":"adminsecret"}}),D=Object(b.a)(w||(w=c()(["\n  query GetStoreProducts {\n    product {\n      id\n      name\n      price\n      image\n    }\n  }\n"]))),I=Object(d.a)();function E(e){e.navigation;var t=Object(O.a)(D),r=t.loading,n=t.error,c=t.data;if(r)return Object(P.jsx)("p",{children:"Loading"});if(n)return Object(P.jsx)("p",{children:"Error"});var u=c?c.product:[];return console.log("products",u),Object(P.jsxs)(o.a,{style:{flex:1,justifyContent:"center",borderColor:"green",borderWidth:1},children:[Object(P.jsx)(i.a,{children:"Commuter Essentials Store"}),Object(P.jsxs)(o.a,{style:{flexDirection:"row"},children:[Object(P.jsx)(a.a,{style:{flex:3,borderColor:"red",borderWidth:1},contentContainerStyle:{alignItems:"center",justifyContent:"center"},children:u.map((function(e){return Object(P.jsx)(C,{product:e},e.id)}))}),Object(P.jsx)(o.a,{style:{flex:1,alignItems:"center",justifyContent:"center",borderColor:"blue",borderWidth:1},children:Object(P.jsx)(k,{})})]})]})}function W(e){var t=e.navigation;return Object(P.jsxs)(o.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:[Object(P.jsx)(i.a,{children:"Checkout Screen"}),Object(P.jsx)(u.a,{title:"Go Back",onPress:function(){return t.navigate("Store")}})]})}function G(){return Object(P.jsx)(f.a,{client:S,children:Object(P.jsx)(s.a,{children:Object(P.jsxs)(I.Navigator,{initialRouteName:"Home",children:[Object(P.jsx)(I.Screen,{name:"Store",component:E}),Object(P.jsx)(I.Screen,{name:"Checkout",component:W})]})})})}},163:function(e,t,r){e.exports=r(202)}},[[163,1,2]]]);
//# sourceMappingURL=app.c745599b.chunk.js.map