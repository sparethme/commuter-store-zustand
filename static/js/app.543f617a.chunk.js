(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{155:function(e,t,r){"use strict";r.d(t,"a",(function(){return W}));var n=r(123),c=r.n(n),o=r(50),a=r(27),i=r(4),s=r(69),u=r(218),d=r(219),j=r(220),l=r(222),b=r(221),O=r(223),f=r(217),h=r(88),p=r(7),x=r.n(p),y=r(124);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=r.n(y)()((function(e){return{cart:{},addProduct:function(t){var r=t.id,n=t.name;e((function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){x()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.cart);return t[r]||(t[r]={id:r,name:n,quantity:0}),t[r].quantity+=1,{cart:t}}))},removeProduct:function(){},deleteProduct:function(){}}})),v=r(13);function P(e){var t=e.product,r=t||null,n=r.id,c=r.name,o=r.price,s=r.image,u=g((function(e){var t;return{cart:e.cart,addProduct:e.addProduct,quantity:(null==(t=e.cart[n])?void 0:t.quantity)||0}})),d=(u.cart,u.addProduct),j=u.quantity;return Object(v.jsx)(i.a,{style:{padding:10},children:Object(v.jsxs)(h.a,{onPress:function(){d({id:n,name:c})},style:{borderColor:"red",borderWidth:2,margin:3,justifyContent:"center",alignItems:"center",padding:20},children:[Object(v.jsx)(a.a,{children:c}),Object(v.jsx)(a.a,{children:s}),Object(v.jsx)(a.a,{children:o}),Object(v.jsx)(a.a,{children:j})]})})}var C=r(33);var w,q=function(e){var t=g((function(e){return{cart:e.cart,addProduct:e.addProduct}})),r=(t.quantity,t.addProduct),n=t.cart,c=Object.keys(n).map((function(e){return n[e]}));console.log("array",c);var o=Object(C.k)();return Object(v.jsxs)(i.a,{children:[c.map((function(e){return Object(v.jsxs)(i.a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(v.jsx)(a.a,{children:e.name}),Object(v.jsx)(s.a,{onPress:function(){console.log("todo: decrease product quantity")},title:"-"}),Object(v.jsx)(a.a,{children:e.quantity}),Object(v.jsx)(s.a,{onPress:function(){r({id:e.id,name:e.name})},title:"+"})]},e.id)})),Object(v.jsx)(s.a,{title:"Go to Checkout",onPress:function(){return o.navigate("Checkout")}})]})},k=new j.a({uri:"https://charmed-squirrel-78.hasura.app/v1/graphql",cache:new l.a,headers:{"x-hasura-admin-secret":"adminsecret"}}),S=Object(b.a)(w||(w=c()(["\n  query GetStoreProducts {\n    product {\n      id\n      name\n      price\n      image\n    }\n  }\n"]))),D=Object(d.a)();function I(e){e.navigation;var t=Object(O.a)(S),r=t.loading,n=t.error,c=t.data;if(r)return Object(v.jsx)("p",{children:"Loading"});if(n)return Object(v.jsx)("p",{children:"Error"});var s=c?c.product:[];return console.log("products",s),Object(v.jsxs)(i.a,{style:{flex:1,justifyContent:"center",borderColor:"green",borderWidth:1},children:[Object(v.jsx)(a.a,{children:"Commuter Essentials Store"}),Object(v.jsxs)(i.a,{style:{flexDirection:"row"},children:[Object(v.jsx)(o.a,{style:{flex:3,borderColor:"red",borderWidth:1},contentContainerStyle:{alignItems:"center",justifyContent:"center"},children:s.map((function(e){return Object(v.jsx)(P,{product:e},e.id)}))}),Object(v.jsx)(i.a,{style:{flex:1,alignItems:"center",justifyContent:"center",borderColor:"blue",borderWidth:1},children:Object(v.jsx)(q,{})})]})]})}function E(e){var t=e.navigation;return Object(v.jsxs)(i.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:[Object(v.jsx)(a.a,{children:"Checkout Screen"}),Object(v.jsx)(s.a,{title:"Go Back",onPress:function(){return t.navigate("Store")}})]})}function W(){return Object(v.jsx)(f.a,{client:k,children:Object(v.jsx)(u.a,{children:Object(v.jsxs)(D.Navigator,{initialRouteName:"Home",children:[Object(v.jsx)(D.Screen,{name:"Store",component:I}),Object(v.jsx)(D.Screen,{name:"Checkout",component:E})]})})})}},163:function(e,t,r){e.exports=r(202)}},[[163,1,2]]]);
//# sourceMappingURL=app.543f617a.chunk.js.map